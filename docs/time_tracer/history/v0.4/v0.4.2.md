## [v0.4.2.6] - 2026-01-19

### 技术改进/重构 (Changed/Refactor)
* **语义化重命名 (Semantic Renaming)**:
    * `validate_source` → `validate_structure`: 明确该步骤只关注 TXT 文件的**语法结构**。
    * `validate_output` → `validate_logic`: 强调该步骤的核心是验证**业务逻辑连贯性**。
* **架构分层优化 (Layer Separation)**:
    * **逻辑下沉**: 移除了 CLI **Command** 类中直接创建验证器和遍历文件的逻辑。
    * 新增 `StructureValidatorStep` 和 `LogicValidatorStep`，将验证流程完全封装在 `Core` 层的流水线中。
* **CLI 瘦身 (Thin CLI)**: **Command** 现在仅负责解析参数并投递给 `PipelineManager` 执行。
* **批量查询逻辑下沉**: 将 `query period` 的循环逻辑从 `QueryCommand` 移至 `ReportHandler::run_period_queries`。

### 修复 (Fixed)
* **Context 补全**: 修复了 `AppContext` 中缺失 `config` 成员导致部分 **Command** 无法获取全局配置的编译错误。
* **导出模块编译修复**:
    * 修复了 `ReportHandler` 调用 `Exporter` 时的方法名混淆问题。
    * 修正了批量导出接口的参数类型错误，确保正确传递 `FormattedReports` 结构。


## [v0.4.2.5] - 2026-01-19

### 技术改进/重构 (Changed/Refactor)
* **帮助系统重构 (CLI Documentation Refactoring)**:
    * **单一真理源**: 废弃了分散的 `HelpFormatter` 硬编码逻辑。
    * 在 `ICommand` 接口中新增 `get_help()`，并在所有具体 **Command** 类中实现自我描述。
    * 重构 `HelpFormatter` 为通用渲染引擎，根据 `CommandRegistry` 动态生成 Usage 文档。
* **统一命令执行范式**:
    * 全线实装 `CommandValidator`: 所有命令强制通过统一验证器获取参数。
    * 使用 `ParsedArgs` 对象安全获取参数，消除了不安全的索引访问。
* **架构重构 (Architecture Refactoring)**:
    * **引入服务接口层**: 新增 `IWorkflowHandler` 和 `IReportHandler` 接口。
    * **CLI** 模块的所有 **Command** 类现在仅依赖接口引用，显著降低了耦合度。
* **语义对齐**:
    * `RunPipelineCommand` → `IngestCommand`
    * `WorkflowHandler::run_full_pipeline_and_import` → `run_ingest`

### 修复 (Fixed)
* **帮助系统入口逻辑简化**: 统一将无参调用转换为 `--help` 参数，委托给 `CliApplication` 处理。
* **修复框架层抽象泄漏**: 重构 `CommandParser`，引入 `ParserConfig` 支持由应用层注入参数过滤规则。
* **编译错误修复**:
    * 修复了 `IngestCommand` 中访问不存在配置项导致的失败。
    * 补全了 `ParsedArgs` 的实现文件 `arg_definitions.cpp`。


## [v0.4.2.4] - 2026-01-19

### 技术改进/重构 (Changed/Refactor)
* **配置数据化 (Pure Data Model)**:
    * 将 `ConverterConfig` 由逻辑类重构为纯数据结构 (`struct`)，并移至 `common/config/models/`。
* **职责分离 (Separation of Concerns)**:
    * **Config 层**: 新增 `TomlConverterConfigLoader` 负责读取 TOML 文件并填充结构体。
    * **Converter 层**: 移除了所有文件读取和 TOML 解析代码，组件通过构造函数接收 `ConverterConfig`。

### 修复 (Fixed)
* **头文件引用路径修正**: 更新了全局对 `converter_config_models.hpp` 的 `#include` 路径。


## [v0.4.2.3] - 2026-01-18

### 技术改进/重构 (Changed/Refactor)
* **全局命名规范标准化 (Naming Standardization)**:
    * 全面执行 **Google C++ Style**: 将 `core`, `converter`, `importer` 等模块的文件名由 PascalCase 统一修改为 **snake_case**。
    * 更新了全量项目的 `#include` 引用路径、Include Guards 及 `CMakeLists.txt`。


## [v0.4.2.2] - 2026-01-17

### 技术改进/重构 (Changed/Refactor)
* **命名空间隔离**: 将 `PeriodMdConfig`、`PeriodTexConfig` 等配置类及对应的 Formatter 移入 `reporting` 命名空间，避免重定义冲突。
* **消除重名歧义**: 将 `ConverterConfig` 中的 `DurationRule` 重命名为 `DurationMappingRule`。

### 修复 (Fixed)
* **修复 PCH 符号冲突**: 解决了预编译头引入导致的类/结构体命名冲突。
* **修复链接与 ODR 违规**: 移除了项目解析器中本地静态定义的 `split_string`，统一使用 `common/utils/StringUtils.hpp`。


## [v0.4.2.1] - 2026-01-17

### 技术改进/重构 (Changed/Refactor)
* **架构分层与目录重组**: 将 **CLI** 模块显式拆分为 `framework` (通用框架层) 和 `impl` (业务实现层)。
* **核心组件解耦 (Dependency Breaking)**:
    * **CommandRegistry 模板化**: 切断从框架层对 `AppContext` 的依赖，实现了依赖倒置 (IoC)。
* **命名规范统一**: 入口及核心文件名迁移至 snake_case，并统一类名为 PascalCase。


## [v0.4.2.0] - 2026-01-16

### 技术改进/重构 (Changed/Refactor)
* **架构解耦 (Architecture Refactoring)**:
    * **Serializer 独立**: 剥离 JSON 处理逻辑，新增顶级模块 `src/serializer`。
    * **Validator 独立**: 将验证逻辑抽离为顶级模块 `src/validator`，区分源文件验证与输出逻辑验证。
    * **Converter 纯化**: 专注于文本解析为 `DailyLog` 结构体，移除文件输出逻辑。

### 新增功能 (Added)
* **Blink 瞬时流水线**: 引入全内存处理流，支持全链路内存验证（Dry Run），确保“零垃圾数据落盘”。

### 修复 (Fixed)
* **CLI 别名冲突**: 修复了 `run-pipeline` 与 `blink` 的别名冲突及 `all-daily` 的拼写错误。
* **Importer 内存直连**: 支持 `import_from_memory` 直接入库，不再强制依赖磁盘 JSON 文件。
