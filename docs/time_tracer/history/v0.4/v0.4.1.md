## [v0.4.1.4] - 2026-01-15

### 技术改进/重构 (Changed/Refactor)
* 进一步精简 **`TomlLoaderUtils`** 中的递归解析逻辑，提升复杂配置映射的加载速度。


## [v0.4.1.3] - 2026-01-15

### 技术改进/重构 (Changed/Refactor)
* **配置格式迁移 (JSON -> TOML)**:
    * 完成 **`Reports`**（`day`/`month`/`period` 报表）与 **`Converter`** 模块配置文件的 **TOML** 格式迁移。
    * 主配置文件入口变更为 `config.toml`。
* **Loader 模块重构**:
    * **`ReportConfigLoader`**: 移除 JSON 依赖，通过 **`TomlLoaderUtils`** 实现结构填充。
    * **`TomlLoaderUtils`**: 新增通用解析工具，封装必需字段检查、可选值处理及统计项递归解析。
* **Validator 模块适配**:
    * **`IQueryStrategy`** 及其实现类的入口参数从 JSON 对象修改为 `const toml::table&`。
    * **通用验证逻辑**: 在 **`BaseStrategy`** 中利用 C++17 结构化绑定重写了数值类型、Hex 颜色等规则校验。
* **Reports 格式化器适配**:
    * **配置类重构**: 完成 **`Month`** 与 **`Period`** 模块配置类构造函数重写，适配 `toml::table`。
    * **DLL 接口升级**: 更新插件的 `create_formatter` 接口，支持直接解析 **TOML** 配置字符串。

### 杂项 (Chore)
* **依赖更新**: 引入 `toml++` 库替代 `nlohmann/json`。


## [v0.4.1.2] - 2026-01-14

### 技术改进/重构 (Changed/Refactor)
* **从 JSON 迁移至 TOML**: 核心转换器 **`Converter`** 配置文件全面切换为 `.toml`。
* **架构优化：启动流程精简**: 现在的 **`StartupValidator`** 仅专注于检查运行时环境完整性（DLL 存在性），配置逻辑验证推迟到具体命令执行时。

### 修复 (Fixed)
* **构建系统改进 (CMake)**: 修正了 `Win32PostBuildCopy.cmake` 中对 `tomlplusplus` 动态库文件名的引用。
* **代码修复**: 解决了 `toml++` 返回的 `string_view` 无法直接作为 `unordered_map` 键值的问题。


## [v0.4.1.1] - 2026-01-14

### 技术改进/重构 (Changed/Refactor)
* **配置系统全面解耦**:
    * **转换器模块 (`converter`)**: 引入 **`ConverterConfig`** 结构体替代 JSON 传递，核心组件依赖于类型安全的配置对象。
    * 新增 **`ConverterConfigFactory`** 封装配置合并与加载逻辑。

### 稳定性 (Stability)
* **类型安全增强**: 配置错误现在会在程序启动阶段被捕获，消除了运行时崩溃风险。


## [v0.4.1.0] - 2026-01-14

### 技术改进/重构 (Changed/Refactor)
* **解耦 `DateCheckMode` 枚举定义**: 移动到 `common/types/DateCheckMode.hpp`，解决了 **`AppConfig`** 的反向依赖问题。

### 新增功能 (Added)
* **`save_processed_output` 配置项**: 支持在 `config.toml` 中控制中间文件保存，优先级顺序为：**CLI 参数 > 配置文件**。
* **`--no-save` 命令行参数**: 允许通过 CLI 强制不保存中间转换文件。
