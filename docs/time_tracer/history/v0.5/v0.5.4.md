## [v0.5.4] - 2026-02-01
### Summary
新增数据查询命令与批量聚合复用，完善 Windows 下中文查询参数处理。

## Added
* **数据查询命令**：新增 `query-data`，支持列出年份/月/日与按条件筛选日期（remark、project、exercise/status、overnight、year/month）。
* **日备注查询**：新增 `--day-remark`（别名 `--remark-day`）用于查询 `days.remark`。
* **范围与排序**：新增 `--from/--to`（支持 YYYY/ YYYYMM/ YYYYMMDD）、`-n/--numbers` 与 `-r/--reverse`。
* **文档**：新增 CLI 查询用法说明（`docs/time_tracer/cli-query-guide.md`）。

## Changed
* **Batch 聚合复用**：周/月/年/周期批量查询统一使用共享聚合 helper。
* **月度聚合一致性**：月报改用 `project_agg` 聚合结构与统一构建流程。
* **Windows 参数处理**：CLI 参数统一转 UTF-8，避免中文查询在 SQLite 中匹配失败。
* **项目路径查询**：`--project` 支持路径片段匹配，便于模糊查询。

## Fixed
* **中文查询失败**：修复 Windows 环境下中文命令行参数编码导致的备注查询失败问题。


## [v0.5.3] - 2026-02-01
### Summary
配置结构优化与样式复用支持，统一报表文案并稳定配置加载路径。

## Added
* **样式复用**：新增 `style_source` 合并机制，支持从公共样式 TOML 读取并覆盖。
* **公共样式文件**：新增 `reports/typst/common_style.toml` 与 `reports/latex/common_style.toml`。
* **CLI 默认配置**：新增 `[defaults]`（`db_path`/`output_root`/`default_format`）与 `[commands.*]` 默认项（如 `convert` 的 `date_check`/`save_processed_output`/`validate_logic`/`validate_structure`，`ingest` 与 `validate-logic` 的 `date_check`，以及 `export`/`query` 的 `format`）。

## Changed
* **配置目录重构**：报表配置按格式分组（`reports/markdown|latex|typst`），统一路径并简化层级。
* **文案一致性**：`total_time_label` 统一为 **Total Time Recorded**。
* **插件配置加载**：DLL 侧接收合并后的配置内容，确保 `style_source` 生效。
* **导入流程**：移除 `import` 命令的交互确认与相关配置项，导入流程不再提示确认。
* **配置验证输出**：验证成功时不再打印，仅在失败/异常时输出错误信息。
* **批量导出流程**：抽取导出公共流程，统一缓存加载与项目树构建入口。

## Fixed
* **In-memory 导入**：补齐 `getup_time` 写入，起床时间不再在日报中显示为 `N/A`。